(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[5],{1032:function(e,t,n){"use strict";n.r(t);var r,i,c,a,o,s,l,u=n(16),d=n(34),b=n(0),j=n(10),p=n(13),f=n(4),m=n(74),x=n(359),h=n(6),O=function(e,t,n){return Object(j.d)(r||(r=Object(d.a)(["\n  width: 100%;\n  height: 20px;\n  clip-path: url(",");\n\n  background: ",";\n\n  & svg {\n    display: block;\n  }\n"])),t,(function(){return e.isDark?(null===n||void 0===n?void 0:n.dark)||(null===n||void 0===n?void 0:n.light)||e.colors.background:(null===n||void 0===n?void 0:n.light)||e.colors.background}))},g=Object(j.e)(p.h)(i||(i=Object(d.a)(["\n  ","\n  transform: ",";\n"])),(function(e){var t=e.theme,n=e.clipPath,r=e.clipFill;return O(t,n,r)}),(function(e){return"#bottomConcaveCurve"===e.clipPath?"translate(0, -13px)":"translate(0, 1px)"})),v=Object(j.e)(p.h)(c||(c=Object(d.a)(["\n  ","\n  transform: ",";\n"])),(function(e){var t=e.theme,n=e.clipPath,r=e.clipFill;return O(t,n,r)}),(function(e){return"#bottomConvexCurve"===e.clipPath?"translate(0, -13px)":"translate(0, -1px)"})),y=function(e){var t=e.clipFill;return Object(h.jsx)(v,{clipFill:t,clipPath:"#topConvexCurve",children:Object(h.jsx)("svg",{width:"0",height:"0",children:Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"topConvexCurve",clipPathUnits:"objectBoundingBox",children:Object(h.jsx)("path",{d:"M 0,1 L 0,0 L 1,0 L 1,1 C 0.75 0, .25 0, 0 1 Z"})})})})})},k=function(e){var t=e.clipFill;return Object(h.jsx)(v,{clipFill:t,clipPath:"#bottomConvexCurve",children:Object(h.jsx)("svg",{width:"0",height:"0",children:Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"bottomConvexCurve",clipPathUnits:"objectBoundingBox",children:Object(h.jsx)("path",{d:"M 0,0 L 0,1 L 1,1 L 1,0 C .75 1, .25 1, 0 0 Z"})})})})})},w=function(e){var t=e.clipFill;return Object(h.jsx)(g,{clipFill:t,clipPath:"#topConcaveCurve",children:Object(h.jsx)("svg",{width:"0",height:"0",children:Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"topConcaveCurve",clipPathUnits:"objectBoundingBox",children:Object(h.jsx)("path",{d:"M 0,0 L 0,1 L 1,1 L 1,0 C .75 1, .25 1, 0 0 Z"})})})})})},C=function(e){var t=e.clipFill;return Object(h.jsx)(g,{clipFill:t,clipPath:"#bottomConcaveCurve",children:Object(h.jsx)("svg",{width:"0",height:"0",children:Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"bottomConcaveCurve",clipPathUnits:"objectBoundingBox",children:Object(h.jsx)("path",{d:"M 0,1 L 0,0 L 1,0 L 1,1 C .75 0.1, .25 0.1, 0 1 Z"})})})})})},T=j.e.div(a||(a=Object(d.a)(["\n  background: ",";\n  z-index: ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n"])),(function(e){var t=e.theme,n=e.dividerFill;return t.isDark?(null===n||void 0===n?void 0:n.dark)||(null===n||void 0===n?void 0:n.light)||"none":(null===n||void 0===n?void 0:n.light)||(null===n||void 0===n?void 0:n.dark)||"none"}),(function(e){return e.index})),S=j.e.div(o||(o=Object(d.a)(["\n  z-index: ",";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])),(function(e){return e.index+1})),I=function(e){var t=e.index,n=e.dividerPosition,r=e.dividerComponent,i=e.concave,c=e.clipFill,a=e.dividerFill,o="top"===n&&!i,s="bottom"===n&&!i,l="top"===n&&i,u="bottom"===n&&i;return Object(h.jsxs)(T,{index:t,dividerFill:a,children:[r&&Object(h.jsx)(S,{index:t,children:r}),Object(h.jsxs)(h.Fragment,{children:[l&&Object(h.jsx)(w,{clipFill:c}),u&&Object(h.jsx)(C,{clipFill:c})]}),Object(h.jsxs)(h.Fragment,{children:[o&&Object(h.jsx)(y,{clipFill:c}),s&&Object(h.jsx)(k,{clipFill:c})]})]})},R=["children","background","svgFill","index","dividerComponent","dividerPosition","hasCurvedDivider","concaveDivider","clipFill","dividerFill","containerProps","innerProps"],B=Object(j.e)(p.z)(s||(s=Object(d.a)(["\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  z-index: ",";\n  background: ",";\n  padding: ",";\n"])),(function(e){return e.index-1}),(function(e){var t=e.background,n=e.theme;return t||n.colors.background}),(function(e){return(0,e.getPadding)()})),z=Object(j.e)(x.a)(l||(l=Object(d.a)(["\n  min-height: auto;\n  padding-top: 16px;\n  padding-bottom: 16px;\n\n  "," {\n    padding-top: 32px;\n    padding-bottom: 32px;\n  }\n\n  "," {\n    padding-top: 48px;\n    padding-bottom: 48px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),A=function(e){var t=e.children,n=e.background,r=e.svgFill,i=e.index,c=void 0===i?1:i,a=e.dividerComponent,o=e.dividerPosition,s=void 0===o?"bottom":o,l=e.hasCurvedDivider,u=void 0===l||l,d=e.concaveDivider,b=void 0!==d&&d,j=e.clipFill,x=e.dividerFill,O=e.containerProps,g=e.innerProps,v=Object(m.a)(e,R);return Object(h.jsxs)(p.h,Object(f.a)(Object(f.a)({},O),{},{children:[u&&"top"===s&&Object(h.jsx)(I,{svgFill:r,index:c,concave:b,dividerPosition:s,dividerComponent:a,clipFill:j,dividerFill:x}),Object(h.jsx)(B,Object(f.a)(Object(f.a)({background:n,index:c,getPadding:function(){return u?"bottom"===s?"48px 0 14px":"top"===s?"14px 0 48px":"48px 0":"48px 0"}},v),{},{children:Object(h.jsx)(z,Object(f.a)(Object(f.a)({},g),{},{children:t}))})),u&&"bottom"===s&&Object(h.jsx)(I,{svgFill:r,index:c,concave:b,dividerPosition:s,dividerComponent:a,clipFill:j,dividerFill:x})]}))},F=n(44),D=n(189),P=n(22),E=n.n(P),M=n(59),L=n(23),W=n(87),N=n(136),Y=n(295),V=n(99),U=function(){return Object(L.c)((function(e){return e.lottery.currentLotteryId}))},_=function(){return Object(L.c)((function(e){return e.lottery.userLotteryData}))},G=function(){return Object(L.c)((function(e){return e.lottery.lotteriesData}))},Z=function(){var e=Object(L.c)((function(e){return e.lottery.currentRound})),t=Object(V.f)(e);console.log("processedCurrentRound",t,e);var n=Object(L.c)((function(e){return e.lottery.isTransitioning})),r=U(),i=_(),c=G(),a=Object(L.c)((function(e){return e.lottery.maxNumberTicketsPerBuyOrClaim}));return{currentLotteryId:r,maxNumberTicketsPerBuyOrClaim:Object(b.useMemo)((function(){return new E.a(a)}),[a]),isTransitioning:n,userLotteryData:i,lotteriesData:c,currentRound:t}},q=n(8),Q=function(e,t){var n=Object(F.b)().t,r=Object(b.useState)({nextEventTime:null,preCountdownText:null,postCountdownText:null}),i=Object(u.a)(r,2),c=i[0],a=i[1];return Object(b.useEffect)((function(){t===q.a.OPEN&&a({nextEventTime:e+30,preCountdownText:null,postCountdownText:n("until the draw")}),t===q.a.CLOSE&&a({nextEventTime:e+30+180,preCountdownText:n("Winners announced in"),postCountdownText:null}),t===q.a.CLAIMABLE&&a({nextEventTime:e+30+300,preCountdownText:n("Tickets on sale in"),postCountdownText:null})}),[t,e,n]),c},H=n(1),K=n.n(H),X=n(9),$=n(176),J=function(){var e=Z(),t=e.currentLotteryId,n=e.isTransitioning,r=e.currentRound.status,i=Object(M.c)().account,c=Object(W.b)(),a=Object($.a)(r);Object(b.useEffect)((function(){a!==r&&t&&(a===q.a.CLOSE&&r===q.a.CLAIMABLE&&(c(Object(Y.e)({currentLotteryId:t})),i&&c(Object(Y.f)({account:i,currentLotteryId:t}))),a===q.a.CLAIMABLE&&r===q.a.OPEN&&(c(Object(Y.e)({currentLotteryId:t})),i&&c(Object(Y.f)({account:i,currentLotteryId:t}))))}),[t,r,a,i,c]),Object(b.useEffect)((function(){if(a===q.a.CLAIMABLE&&r===q.a.CLAIMABLE&&n){c(Object(Y.d)()),c(Object(Y.e)({currentLotteryId:t}));var e=setInterval(Object(X.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Object(Y.d)()),c(Object(Y.e)({currentLotteryId:t}));case 2:case"end":return e.stop()}}),e)}))),1e4);return function(){return clearInterval(e)}}return function(){return null}}),[r,a,n,t,c])},ee=n(30),te=n(71),ne=n(88);function re(){var e=Object(te.c)();return{callWithGasPrice:Object(b.useCallback)(function(){var t=Object(X.a)(K.a.mark((function t(n,r){var i,c,a,o,s,l=arguments;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:[],c=l.length>3&&void 0!==l[3]?l[3]:null,a=Object(ne.get)(n,r),o=null===c||void 0===c?void 0:c.gasPrice,t.next=6,a.apply(void 0,Object(ee.a)(i).concat([o?Object(f.a)({},c):Object(f.a)(Object(f.a)({},c),{},{gasPrice:e})]));case 6:return s=t.sent,t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e])}}var ie,ce,ae,oe,se=n(27),le=n(54),ue=n(33),de=n(77),be=n(191),je=n(72),pe=n(841),fe=n.n(pe),me=["value","color","decimals","isDisabled","unit","prefix","onClick"],xe=function(e){var t=e.value,n=e.color,r=void 0===n?"text":n,i=e.decimals,c=void 0===i?3:i,a=e.isDisabled,o=void 0!==a&&a,s=e.unit,l=e.prefix,u=e.onClick,d=Object(m.a)(e,me),j=Object(b.useRef)(0);return Object(b.useEffect)((function(){j.current=t}),[t]),Object(h.jsx)(p.Y,Object(f.a)(Object(f.a)({color:o?"textDisabled":r,onClick:u},d),{},{children:Object(h.jsx)(fe.a,{start:j.current,end:t,prefix:l,suffix:s,decimals:c,duration:1,separator:","})}))},he=n(46),Oe=n(173),ge=(n(145),n(297)),ve=(n(332),Object(se.m)()),ye=function(){var e=Object(X.a)(K.a.mark((function e(t){var n,r,i,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){var t=e.roundId,n=e.id,r=e.rewardBracket;return{name:"viewRewardsForTicketId",address:ve,params:[t,n,r]}})),e.prev=1,e.next=4,Object(he.b)(Oe,n);case 4:return r=e.sent,i=r.reduce((function(e,t){return e.plus(new E.a(t[0].toString()))}),ue.c),c=t.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{cakeReward:r[t]})})),e.abrupt("return",{ticketsWithUnclaimedRewards:c,cakeTotal:i});case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{ticketsWithUnclaimedRewards:null,cakeTotal:null});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(e,t){for(var n=e.split("").reverse(),r=t.split("").reverse(),i=[],c=0;c<r.length-1&&n[c]===r[c];c++)i.push(n[c]);return i.length-1},we=function(){var e=Object(X.a)(K.a.mark((function e(t){var n,r,i,c,a,o,s,l,u;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.roundId,r=t.userTickets,i=t.finalNumber,c=r.map((function(e){return{roundId:n,id:e.id,number:e.number,status:e.status,rewardBracket:ke(e.number,i)}})),a=c.filter((function(e){return e.rewardBracket>=0})),!((o=a.filter((function(e){return!e.status}))).length>0)){e.next=11;break}return e.next=7,ye(o);case 7:return s=e.sent,l=s.ticketsWithUnclaimedRewards,u=s.cakeTotal,e.abrupt("return",{ticketsWithUnclaimedRewards:l,allWinningTickets:a,cakeTotal:u,roundId:n});case 11:if(!(a.length>0)){e.next=13;break}return e.abrupt("return",{ticketsWithUnclaimedRewards:null,allWinningTickets:a,cakeTotal:null,roundId:n});case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=n(174),Te=n.n(Ce),Se=function(e){var t=e.split("");return t.splice(0,1),t.reverse(),t.join("")},Ie=Object(f.a)(Object(f.a)({},{year:"numeric",month:"short",day:"numeric"}),{hour:"numeric",minute:"numeric"}),Re=function(e){var t=e.priceTicketInCake,n=e.discountDivisor,r=e.amountCollectedInCake,i=new E.a(n),c=new E.a(t),a=new E.a(r);return{isLoading:e.isLoading,lotteryId:e.lotteryId,userTickets:e.userTickets,status:e.status,startTime:e.startTime,endTime:e.endTime,priceTicketInCake:c,discountDivisor:i,treasuryFee:e.treasuryFee,firstTicketId:e.firstTicketId,lastTicketId:e.lastTicketId,amountCollectedInCake:a,finalNumber:e.finalNumber,cakePerBracket:e.cakePerBracket,countWinnersPerBracket:e.countWinnersPerBracket,rewardsBreakdown:e.rewardsBreakdown}},Be=j.e.div(ie||(ie=Object(d.a)(["\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n"]))),ze=Object(j.e)(p.Y)(ce||(ce=Object(d.a)(["\n  color: #000000;\n  text-shadow: -0.75px -0.75px 0 white, 0.75px -0.75px 0 white, -0.75px 0.75px 0 white, 0.75px 0.75px 0 white;\n  transform: rotate(","deg);\n"])),(function(e){return e.rotationTransform||0})),Ae={pink:function(e){return Object(h.jsxs)(p.X,Object(f.a)(Object(f.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(h.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#D750B2"}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},lilac:function(e){return Object(h.jsxs)(p.X,Object(f.a)(Object(f.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(h.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#A881FC"}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},teal:function(e){return Object(h.jsxs)(p.X,Object(f.a)(Object(f.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(h.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#1FC7D4"}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},aqua:function(e){return Object(h.jsxs)(p.X,Object(f.a)(Object(f.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(h.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#31D0AA"}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},green:function(e){return Object(h.jsxs)(p.X,Object(f.a)(Object(f.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(h.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#93D45A"}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},yellow:function(e){return Object(h.jsxs)(p.X,Object(f.a)(Object(f.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(h.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#FFC43C"}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13245C28.9191 8.87189 28.5505 17.2575 23.2373 22.5707C17.528 28.28 8.27148 28.28 2.56223 22.5707C2.2825 22.291 2.01648 22.0028 1.76416 21.7068C4.02814 27.3487 9.54881 31.3327 16 31.3327C24.4683 31.3327 31.3332 24.4678 31.3332 15.9995C31.3332 10.6079 28.5504 5.86622 24.3428 3.13245Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7714 4.18262C30.6309 10.2119 30.2608 19.061 24.661 24.6608C19.0616 30.2602 10.2134 30.6307 4.18408 25.7722C6.99655 29.1689 11.2456 31.3329 16.0001 31.3329C24.4685 31.3329 31.3334 24.468 31.3334 15.9997C31.3334 11.2446 29.1689 6.99508 25.7714 4.18262Z",fill:"black"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(h.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10087 9.51443C3.77283 5.93689 6.78541 3.11142 10.4922 1.68435C10.5461 1.73247 10.5988 1.78231 10.6504 1.83387C12.4839 3.6674 10.912 5.74432 8.66157 7.99477C6.41112 10.2452 4.33429 11.817 2.50076 9.98347C2.3535 9.83621 2.22025 9.67943 2.10087 9.51443Z",fill:"white"})})]}))}},Fe=function(e){var t=e.color,n=e.number,r=e.size,i=e.fontSize,c=e.rotationTransform,a=Ae[t];return Object(h.jsxs)(p.z,{alignItems:"center",justifyContent:"center",position:"relative",mx:"2px",children:[Object(h.jsx)(a,{width:null!==r&&void 0!==r?r:"32px",height:null!==r&&void 0!==r?r:"32px"}),Object(h.jsx)(Be,{children:Object(h.jsx)(ze,{rotationTransform:c,bold:!0,fontSize:null!==i&&void 0!==i?i:"16px",children:n})})]})},De=["number","size","fontSize","rotateText"],Pe=function(e){var t=e.number,n=e.size,r=void 0===n?"32px":n,i=e.fontSize,c=void 0===i?"16px":i,a=e.rotateText,o=Object(m.a)(e,De),s=Object(b.useState)([]),l=Object(u.a)(s,2),d=l[0],j=l[1],x=Se(t).split(""),O=["pink","lilac","teal","aqua","green","yellow"];return Object(b.useEffect)((function(){a&&x&&0===d.length&&j(x.map((function(){return Object(ne.random)(-30,30)})))}),[a,x,d]),Object(h.jsx)(p.z,Object(f.a)(Object(f.a)({justifyContent:"space-between"},o),{},{children:x.map((function(e,t){return Object(h.jsx)(Fe,{rotationTransform:a&&d[t],size:r,fontSize:c,color:O[t],number:e},Te()())}))}))},Ee=Object(j.e)(p.z)(ae||(ae=Object(d.a)(["\n  position: relative;\n  padding: 4px 16px;\n  border: 1px solid ",";\n  border-radius: ",";\n  background: ",";\n  justify-content: space-between;\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.radii.default}),(function(e){return e.theme.colors.background})),Me=j.e.div(oe||(oe=Object(d.a)(["\n  z-index: 1;\n  width: ",";\n  height: 34px;\n  border-radius: ",";\n  top: 0;\n  left: 0;\n  position: absolute;\n  border: 2px "," solid;\n"])),(function(e){var t=e.numberMatches;return"".concat(t<6?17.66*t:100,"%")}),(function(e){return e.theme.radii.default}),(function(e){return e.theme.colors.primary})),Le=function(e){var t=e.localId,n=e.id,r=e.number,i=e.rewardBracket,c=Object(F.b)().t,a=Se(r).split(""),o=i+1;return Object(h.jsxs)(p.z,{flexDirection:"column",mb:"12px",children:[Object(h.jsxs)(p.z,{justifyContent:"space-between",children:[Object(h.jsxs)(p.Y,{fontSize:"12px",color:"textSubtle",children:["#",t||n]}),i>=0&&Object(h.jsxs)(p.Y,{fontSize:"12px",children:[c("Matched first")," ",o]})]}),Object(h.jsxs)(Ee,{children:[i>=0&&Object(h.jsx)(Me,{numberMatches:o}),a.map((function(e){return Object(h.jsx)(p.Y,{fontSize:"16px",children:e},"".concat(t||n,"-").concat(e,"-").concat(Te()()))}))]})]})},We=n(360),Ne=n(202);function Ye(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(Ne.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw c}}}}var Ve,Ue,_e,Ge,Ze,qe,Qe,He,Ke,Xe,$e=function(){var e=Object(X.a)(K.a.mark((function e(t,n,r,i){var c,a,o;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t[n]){e.next=2;break}throw new Error("Method ".concat(n," doesn't exist on ").concat(t.address));case 2:return e.next=4,(c=t.estimateGas)[n].apply(c,Object(ee.a)(r));case 4:return a=e.sent,o=a.mul(le.a.BigNumber.from(1e4).add(le.a.BigNumber.from(i))).div(le.a.BigNumber.from(1e4)),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Je=function(){var e=Object(X.a)(K.a.mark((function e(t,n){var r,i,c,a,o,s=arguments;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:[],i=s.length>3&&void 0!==s[3]?s[3]:{},c=s.length>4&&void 0!==s[4]?s[4]:1e3,a=$e(t,n,r,c),e.next=6,t[n].apply(t,Object(ee.a)(r).concat([Object(f.a)({gasLimit:a},i)]));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),et=n(73),tt=(n(2),n(52),et.f,n(75),n(310),n(89),n(143)),nt=n(151),rt=function(e){var t,n=e.onSuccess,r=e.roundsToClaim,i=Object(M.c)().account,c=Object(F.b)().t,a=Object(W.b)(),o=Z(),s=o.maxNumberTicketsPerBuyOrClaim,l=o.currentLotteryId,d=Object(te.c)(),j=Object(nt.a)(),f=j.toastSuccess,m=j.toastError,x=Object(b.useState)(0),O=Object(u.a)(x,2),g=O[0],v=O[1],y=Object(b.useState)(!1),k=Object(u.a)(y,2),w=k[0],C=k[1],T=Object(b.useState)(Math.ceil(r[g].ticketsWithUnclaimedRewards.length/s.toNumber())),S=Object(u.a)(T,2),I=S[0],R=S[1],B=Object(de.g)(),z=r[g],A=Object(be.b)(),D=z.cakeTotal,P=D.times(A),E=Object(je.b)(D).toNumber(),L=Object(je.b)(P).toNumber(),N=(t=z.ticketsWithUnclaimedRewards,{lotteryId:z.roundId,ticketIds:t.map((function(e){return e.id})),brackets:t.map((function(e){return e.rewardBracket}))}),V=s.lt(N.ticketIds.length),U=function(){r.length>g+1?(v(g+1),a(Object(Y.f)({account:i,currentLotteryId:l}))):n()},_=function(e,t){for(var n=[],r=s.toNumber(),i=0;i<e.length;i+=r){var c=e.slice(i,r+i),a=t.slice(i,r+i);n.push({ticketIds:c,brackets:a})}return n},G=function(){var e=Object(X.a)(K.a.mark((function e(){var t,n,r,i,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.lotteryId,n=N.ticketIds,r=N.brackets,C(!0),e.prev=2,e.next=5,Je(B,"claimTickets",[t,n,r],{gasPrice:d});case 5:return i=e.sent,e.next=8,i.wait();case 8:(a=e.sent).status&&(f(c("Prizes Collected!"),Object(h.jsx)(tt.b,{txHash:a.transactionHash,children:c("Your CAKE prizes for round %lotteryId% have been sent to your wallet",{lotteryId:t})})),C(!1),U()),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),m(c("Error"),c("%error% - Please try again.",{error:e.t0.message})),C(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(X.a)(K.a.mark((function e(){var t,n,r,i,a,o,s,l,u;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=N.lotteryId,n=_(N.ticketIds,N.brackets),r=n.length,i=[],C(!0),a=Ye(n),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=28;break}return s=o.value,e.prev=10,e.next=13,Je(B,"claimTickets",[t,s.ticketIds,s.brackets],{gasPrice:d});case 13:return l=e.sent,e.next=16,l.wait();case 16:(u=e.sent).status&&(i.push(u),R(r-i.length),i.length!==r&&f(c("Prizes Collected!"),Object(h.jsx)(tt.b,{txHash:u.transactionHash,children:c("Claim %claimNum% of %claimTotal% for round %lotteryId% was successful. Please confirm the next transaction",{claimNum:i.length,claimTotal:r,lotteryId:t})}))),e.next=26;break;case 20:return e.prev=20,e.t0=e.catch(10),console.error(e.t0),C(!1),m(c("Error"),c("%error% - Please try again.",{error:e.t0.message})),e.abrupt("break",28);case 26:e.next=8;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(6),a.e(e.t1);case 33:return e.prev=33,a.f(),e.finish(33);case 36:i.length===r&&(C(!1),f(c("Prizes Collected!"),c("Your CAKE prizes for round %lotteryId% have been sent to your wallet",{lotteryId:t})),U());case 37:case"end":return e.stop()}}),e,null,[[6,30,33,36],[10,20]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(p.z,{flexDirection:"column",children:[Object(h.jsx)(p.Y,{mb:"4px",textAlign:["center",null,"left"],children:c("You won")}),Object(h.jsxs)(p.z,{alignItems:["flex-start",null,"center"],justifyContent:["flex-start",null,"space-between"],flexDirection:["column",null,"row"],children:[Object(h.jsx)(xe,{textAlign:["center",null,"left"],lineHeight:"1.1",value:E,fontSize:"44px",bold:!0,color:"secondary",unit:" CAKE!"}),Object(h.jsx)(p.T,{ml:["0",null,"12px"],width:"64px"})]}),Object(h.jsx)(xe,{mt:["12px",null,"0"],textAlign:["center",null,"left"],value:L,fontSize:"12px",color:"textSubtle",unit:" USD",prefix:"~"})]}),Object(h.jsx)(p.z,{alignItems:"center",justifyContent:"center",children:Object(h.jsxs)(p.Y,{mt:"8px",fontSize:"12px",color:"textSubtle",children:[c("Round")," #",z.roundId]})}),Object(h.jsx)(p.z,{alignItems:"center",justifyContent:"center",children:Object(h.jsxs)(p.i,{isLoading:w,endIcon:w?Object(h.jsx)(p.e,{spin:!0,color:"currentColor"}):null,mt:"20px",width:"100%",onClick:function(){return V?q():G()},children:[c(w?"Claiming":"Claim")," ",I>1?"(".concat(I,")"):""]})})]})},it=Object(j.e)(p.O)(Ve||(Ve=Object(d.a)(["\n  position: relative;\n  overflow: visible;\n\n  "," {\n    min-width: 380px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ct=Object(j.e)(p.P)(Ue||(Ue=Object(d.a)(["\n  background: ",";\n  border-top-right-radius: 32px;\n  border-top-left-radius: 32px;\n"])),(function(e){return e.theme.colors.gradients.cardHeader})),at=j.e.div(_e||(_e=Object(d.a)(["\n  position: absolute;\n  top: -116px; // line up bunny at the top of the modal\n  left: 0px;\n  text-align: center;\n  width: 100%;\n"]))),ot=function(){Object(We.a)({particleCount:200,startVelocity:30,gravity:.5,spread:350,origin:{x:.5,y:.3}})},st=function(e){var t=e.onDismiss,n=e.roundsToClaim,r=Object(F.b)().t,i=Object(M.c)().account,c=Z().currentLotteryId,a=Object(W.b)();return Object(b.useEffect)((function(){Object(ne.delay)(ot,100)}),[]),Object(h.jsxs)(it,{minWidth:"280px",children:[Object(h.jsx)(at,{children:Object(h.jsx)("img",{src:"/images/decorations/prize-bunny.png",alt:"bunny decoration",height:"124px",width:"168px"})}),Object(h.jsxs)(ct,{children:[Object(h.jsx)(p.R,{children:Object(h.jsx)(p.A,{children:r("Collect Winnings")})}),Object(h.jsx)(p.N,{onDismiss:t})]}),Object(h.jsx)(p.M,{p:"24px",children:Object(h.jsx)(rt,{onSuccess:function(){a(Object(Y.f)({account:i,currentLotteryId:c})),t()},roundsToClaim:n})})]})},lt=Object(j.e)(p.z)(Ge||(Ge=Object(d.a)(["\n  flex-direction: column;\n  margin: -24px;\n  padding: 24px;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.colors.dropdown}),(function(e){return e.theme.colors.cardBorder})),ut=Object(j.e)(p.h)(Ze||(Ze=Object(d.a)(["\n  margin-right: -20px;\n  padding-right: 24px;\n  max-height: 300px;\n  overflow-y: scroll;\n  margin-top: 24px;\n"]))),dt=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.W,{width:"32px",height:"12px",mt:"2px",mb:"4px"}),Object(h.jsx)(p.W,{width:"100%",height:"34px",mb:"12px"})]})},bt=function(e){var t,n,r=e.roundId,i=Object(b.useState)(null),c=Object(u.a)(i,2),a=c[0],o=c[1],s=Object(b.useState)(null),l=Object(u.a)(s,2),d=l[0],j=l[1],f=Object(b.useState)({allWinningTickets:null,ticketsWithUnclaimedRewards:null,isFetched:!1,claimData:null}),m=Object(u.a)(f,2),x=m[0],O=m[1],g=Object(F.b)().t,v=Object(D.a)().theme,y=Object(M.c)().account,k=(n=r,_().rounds.find((function(e){return e.lotteryId===n}))).totalTickets,w=Object(p.mb)(Object(h.jsx)(st,{roundsToClaim:[x.claimData]}),!1),C=Object(u.a)(w,1)[0],T=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.Y,{mb:"16px",children:g("Tickets must match the winning number in the exact same order, starting from the first digit.")}),Object(h.jsx)(p.Y,{mb:"16px",children:g("If the winning number is \u201c123456\u201d:")}),Object(h.jsx)(p.Y,{mb:"4px",children:g("\u201c120000\u201d matches the first 2 digits.")}),Object(h.jsx)(p.Y,{children:g("\u201c000006\u201d matches the last digit, but since the first five digits are wrong, it doesn\u2019t win any prizes.")})]})},S=Object(p.nb)(Object(h.jsx)(T,{}),{placement:"bottom-end",tooltipOffset:[20,10]}),I=S.targetRef,R=S.tooltip,B=S.tooltipVisible;Object(b.useEffect)((function(){var e=function(e,t){return e.map((function(e){var n=t.find((function(t){return t.id===e.id}));return n||e}))};(function(){var t=Object(X.a)(K.a.mark((function t(){var n,i,c,a,s,l;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ge.b)(y,r);case 2:return n=t.sent,t.next=5,Object(V.b)(r);case 5:return i=t.sent,c=Re(i),t.next=9,we({roundId:r,userTickets:n,finalNumber:c.finalNumber.toString()});case 9:a=t.sent,O({isFetched:!0,allWinningTickets:null===a||void 0===a?void 0:a.allWinningTickets,ticketsWithUnclaimedRewards:null===a||void 0===a?void 0:a.ticketsWithUnclaimedRewards,claimData:a}),o(c),(null===a||void 0===a?void 0:a.allWinningTickets)?(s=e(n,a.allWinningTickets),l=s.sort((function(e,t){var n=void 0===e.rewardBracket?0:e.rewardBracket+1;return(void 0===t.rewardBracket?0:t.rewardBracket+1)-n})),j(l)):j(n);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[r,y,k]);return Object(h.jsxs)(h.Fragment,{children:[B&&R,Object(h.jsxs)(lt,{children:[Object(h.jsx)(p.Y,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",mb:"4px",children:g("Winning number")}),(null===a||void 0===a?void 0:a.finalNumber)?Object(h.jsx)(Pe,{number:a.finalNumber.toString()}):Object(h.jsx)(p.W,{width:"230px",height:"34px"})]}),Object(h.jsxs)(ut,{children:[Object(h.jsx)(p.Y,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",my:"16px",children:g("Your tickets")}),Object(h.jsxs)(p.z,{mb:"8px",justifyContent:"space-between",children:[Object(h.jsxs)(p.z,{children:[Object(h.jsx)(p.ab,{width:"24px",height:"24px",mr:"8px"}),Object(h.jsxs)(p.Y,{bold:!0,color:"text",children:[g("Total tickets"),":"]})]}),Object(h.jsx)(p.Y,{bold:!0,color:"text",children:d?d.length:Object(h.jsx)(p.W,{width:"56px",height:"24px"})})]}),Object(h.jsxs)(p.z,{mb:"24px",justifyContent:"space-between",children:[Object(h.jsxs)(p.z,{children:[Object(h.jsx)(p.T,{width:"24px",height:"24px",mr:"8px"}),Object(h.jsxs)(p.Y,{bold:!0,color:"text",children:[g("Winning tickets"),":"]})]}),Object(h.jsx)(p.Y,{bold:!0,color:"text",children:x.isFetched?(null===x||void 0===x||null===(t=x.allWinningTickets)||void 0===t?void 0:t.length)||"0":Object(h.jsx)(p.W,{width:"40px",height:"24px"})})]}),d?d.map((function(e){return Object(h.jsx)(Le,{id:e.id,number:e.number,rewardBracket:e.rewardBracket,status:e.status},e.id)})):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(dt,{}),Object(h.jsx)(dt,{}),Object(h.jsx)(dt,{}),Object(h.jsx)(dt,{})]})]}),Object(h.jsx)(p.z,{borderTop:"1px solid ".concat(v.colors.cardBorder),alignItems:"center",justifyContent:"center",children:x.isFetched&&function(){var e;return(null===x||void 0===x||null===(e=x.ticketsWithUnclaimedRewards)||void 0===e?void 0:e.length)>0?Object(h.jsx)(p.i,{onClick:C,mt:"24px",width:"100%",children:g("Collect Prizes")}):x.allWinningTickets?null:Object(h.jsx)("div",{ref:I,children:Object(h.jsxs)(p.z,{alignItems:"center",justifyContent:"center",mt:"20px",children:[Object(h.jsx)(p.D,{height:"20px",width:"20px",color:"textSubtle",mr:"8px"}),Object(h.jsx)(p.cb,{color:"textSubtle",children:g("Why didn't I win?")})]})})}()})]})},jt=n(28),pt=n(102),ft={approvalState:"idle",confirmState:"idle"},mt=function(e,t){switch(t.type){case"requires_approval":return Object(f.a)(Object(f.a)({},e),{},{approvalState:"success"});case"approve_sending":return Object(f.a)(Object(f.a)({},e),{},{approvalState:"loading"});case"approve_receipt":return Object(f.a)(Object(f.a)({},e),{},{approvalState:"success"});case"approve_error":return Object(f.a)(Object(f.a)({},e),{},{approvalState:"fail"});case"confirm_sending":return Object(f.a)(Object(f.a)({},e),{},{confirmState:"loading"});case"confirm_receipt":return Object(f.a)(Object(f.a)({},e),{},{confirmState:"success"});case"confirm_error":return Object(f.a)(Object(f.a)({},e),{},{confirmState:"fail"});default:return e}},xt=function(e){var t=e.onApprove,n=e.onConfirm,r=e.onRequiresApproval,i=e.onSuccess,c=void 0===i?ne.noop:i,a=e.onApproveSuccess,o=void 0===a?ne.noop:a,s=Object(F.b)().t,l=Object(M.c)().account,d=Object(b.useReducer)(mt,ft),j=Object(u.a)(d,2),p=j[0],f=j[1],m=Object(b.useRef)(r),x=Object(nt.a)().toastError;return Object(b.useEffect)((function(){l&&m.current&&m.current().then((function(e){e&&f({type:"requires_approval"})}))}),[l,m,f]),{isApproving:"loading"===p.approvalState,isApproved:"success"===p.approvalState,isConfirming:"loading"===p.confirmState,isConfirmed:"success"===p.confirmState,hasApproveFailed:"fail"===p.approvalState,hasConfirmFailed:"fail"===p.confirmState,handleApprove:function(){var e=Object(X.a)(K.a.mark((function e(){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,f({type:"approve_sending"}),e.next=7,n.wait();case 7:(r=e.sent).status&&(f({type:"approve_receipt"}),o({state:p,receipt:r})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f({type:"approve_error"}),x(s("Error"),s("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),handleConfirm:function(){var e=Object(X.a)(K.a.mark((function e(){var t,r,i,a=arguments;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},f({type:"confirm_sending"}),e.prev=2,e.next=5,n(t);case 5:return r=e.sent,e.next=8,r.wait();case 8:(i=e.sent).status&&(f({type:"confirm_receipt"}),c({state:p,receipt:i})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),f({type:"confirm_error"}),x(s("Error"),s("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()}},ht=n(358);!function(e){e.ROW="row",e.SEQUENTIAL="sequential"}(Xe||(Xe={}));var Ot,gt,vt,yt,kt,wt,Ct,Tt,St=j.e.div(qe||(qe=Object(d.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: center;\n\n  "," {\n    grid-template-columns: 1fr 24px 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),It=Object(j.e)(p.i)(Qe||(Qe=Object(d.a)(["\n  width: 100%;\n\n  "," {\n    min-width: 160px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Rt={width:"24px",color:"textDisabled"},Bt=Object(j.e)(p.t).attrs(Rt)(He||(He=Object(d.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),zt=Object(j.e)(p.s).attrs(Rt)(Ke||(Ke=Object(d.a)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),At=Object(h.jsx)(p.e,{spin:!0,color:"currentColor"}),Ft=function(e){var t=e.isApproveDisabled,n=e.isApproving,r=e.isConfirming,i=e.isConfirmDisabled,c=e.onApprove,a=e.onConfirm,o=e.buttonArrangement,s=void 0===o?Xe.ROW:o,l=e.confirmLabel,u=e.confirmId,d=Object(F.b)().t,b=null!==l&&void 0!==l?l:d("Confirm");return s===Xe.ROW?Object(h.jsxs)(St,{children:[Object(h.jsx)(p.h,{children:Object(h.jsx)(It,{disabled:t,onClick:c,endIcon:n?At:void 0,isLoading:n,children:d(n?"Enabling":"Enable")})}),Object(h.jsxs)(p.z,{justifyContent:"center",children:[Object(h.jsx)(Bt,{}),Object(h.jsx)(zt,{})]}),Object(h.jsx)(p.h,{children:Object(h.jsx)(It,{id:u,onClick:a,disabled:i,isLoading:r,endIcon:r?At:void 0,children:r?d("Confirming"):b})})]}):Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)(p.h,{children:Object(h.jsx)(It,{id:u,onClick:a,disabled:i,isLoading:r,endIcon:r?At:void 0,children:r?d("Confirming"):b})}):Object(h.jsx)(p.h,{children:Object(h.jsx)(It,{onClick:c,endIcon:n?At:void 0,isLoading:n,children:d(n?"Enabling":"Enable")})})})},Dt=Object(j.e)(p.i)(Ot||(Ot=Object(d.a)(["\n  flex-grow: 1;\n"]))),Pt=function(e){var t=e.children,n=e.onClick,r=e.disabled,i=void 0!==r&&r;return Object(h.jsx)(Dt,{disabled:i,scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:n,children:t})},Et=j.e.div(gt||(gt=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 36px;\n  box-sizing: border-box;\n  border: 1px solid #d7caec;\n  background-color: #eeeaf4;\n  border-radius: 16px;\n  margin-bottom: 8px;\n  ","\n  ","\n"])),(function(e){return e.isDuplicate&&"\n    border: 1px solid #FFB237;\n    box-shadow: 0px 0px 0px 2px #FFB237;\n  "}),(function(e){return e.focused&&"\n    border: 1px solid #7645D9;\n    box-shadow: 0px 0px 0px 2px #E4DAF7;\n  "})),Mt=j.e.input(vt||(vt=Object(d.a)(["\n  border: none;\n  height: 32px;\n  padding: 0 12px;\n  font-size: 16px;\n  flex: 1;\n  width: 16px;\n  text-align: center;\n  min-width: 0;\n  background-color: transparent;\n  caret-color: #7a6faa;\n\n  &::placeholder {\n    text-align: center;\n  }\n\n  &:placeholder-shown {\n    text-align: left;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    /* display: none; <- Crashes Chrome on hover */\n    -webkit-appearance: none;\n    margin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n  }\n\n  -moz-appearance: textfield; /* Firefox */\n"]))),Lt=function(e){var t,n=e.ticket,r=e.duplicateWith,i=e.updateTicket,c=e.disabled,a=Object(b.useState)(!1),o=Object(u.a)(a,2),s=o[0],l=o[1],d=Object(b.useRef)(null),j=Object(b.useRef)(null),f=Object(b.useRef)(null),m=Object(b.useRef)(null),x=Object(b.useRef)(null),O=Object(b.useRef)(null),g=Object(b.useRef)(null),v=Object(F.b)().t,y=[j,f,m,x,O,g],k=function(){d.current&&d.current.scrollIntoView({block:"center",behavior:"smooth"})},w=function(e){e.preventDefault();var t=e.clipboardData.getData("Text");if(t.length<=6&&/^\d+$/.test(t)){var r=Array(6-t.length).fill("");i(n.id,[].concat(Object(ee.a)(t.split("")),Object(ee.a)(r)))}},C=function(){k(),l(!0)},T=function(){l(!1)},S=function(e,t){var r=parseInt(e.key,10);if(["e","E",".",",","-","Unidentified"].includes(e.key))e.preventDefault();else{if(r>=0&&r<=9){e.preventDefault();var c=Object(ee.a)(n.numbers);c[t]="".concat(r),i(n.id,c);var a=t+1,o=y[a];6!==a&&o.current&&o.current.focus()}if("Backspace"===e.key)if(e.preventDefault(),n.numbers[t]){var s=Object(ee.a)(n.numbers);s[t]="",i(n.id,s)}else{var l=t-1,u=y[l];if(-1!==l&&u.current){u.current.focus();var d=Object(ee.a)(n.numbers);d[l]="",i(n.id,d)}}if("Delete"===e.key)if(e.preventDefault(),n.numbers[t]){var b=Object(ee.a)(n.numbers);b[t]="",i(n.id,b)}else{var j=t+1,p=y[j];if(6!==j&&p.current){p.current.focus();var f=Object(ee.a)(n.numbers);f[j]="",i(n.id,f)}}if("ArrowLeft"===e.key){e.preventDefault();var m=t-1,x=y[m];-1!==m&&x.current&&x.current.focus()}if("ArrowRight"===e.key){e.preventDefault();var h=t+1,O=y[h];6!==h&&O.current&&O.current.focus()}}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(p.z,{justifyContent:"space-between",children:[Object(h.jsx)(p.Y,{fontSize:"12px",color:"textSubtle",children:(t=n.id,t<10?"#00".concat(t):t<100?"#0".concat(t):"#".concat(t))}),Object(h.jsx)(p.Y,{fontSize:"12px",color:"warning",children:0!==r.length&&v("Duplicate")})]}),Object(h.jsxs)(Et,{ref:d,onClick:k,focused:s,isDuplicate:0!==r.length,children:[Object(h.jsx)(Mt,{ref:j,type:"number",value:n.numbers[0],onKeyDown:function(e){return S(e,0)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:c,onFocus:C,onBlur:T,onPaste:w,inputMode:"numeric"}),Object(h.jsx)(Mt,{ref:f,type:"number",value:n.numbers[1],onKeyDown:function(e){return S(e,1)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:c,onFocus:C,onBlur:T,onPaste:w,inputMode:"numeric"}),Object(h.jsx)(Mt,{ref:m,type:"number",value:n.numbers[2],onKeyDown:function(e){return S(e,2)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:c,onFocus:C,onBlur:T,onPaste:w,inputMode:"numeric"}),Object(h.jsx)(Mt,{ref:x,type:"number",value:n.numbers[3],onKeyDown:function(e){return S(e,3)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:c,onFocus:C,onBlur:T,onPaste:w,inputMode:"numeric"}),Object(h.jsx)(Mt,{ref:O,type:"number",value:n.numbers[4],onKeyDown:function(e){return S(e,4)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:c,onFocus:C,onBlur:T,onPaste:w,inputMode:"numeric"}),Object(h.jsx)(Mt,{ref:g,type:"number",value:n.numbers[5],onKeyDown:function(e){return S(e,5)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:c,onFocus:C,onBlur:T,onPaste:w,inputMode:"numeric"})]})]})},Wt=Object(j.e)(p.L)(yt||(yt=Object(d.a)(["\n  min-width: 280px;\n  max-width: 320px;\n  max-height: 552px;\n\n  & div:nth-child(2) {\n    padding: 0;\n  }\n"]))),Nt=j.e.div(kt||(kt=Object(d.a)(["\n  height: 310px;\n  overflow-y: scroll;\n  border-bottom: ",";\n  padding: 24px;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.cardBorder)})),Yt=function(e){var t=e.totalCost,n=e.updateTicket,r=e.randomize,i=e.tickets,c=e.allComplete,a=e.onConfirm,o=e.isConfirming,s=e.onDismiss,l=Object(D.a)().theme,u=Object(F.b)().t;return Object(h.jsxs)(Wt,{title:u("Edit numbers"),onDismiss:s,headerBackground:l.colors.gradients.cardHeader,onBack:s,children:[Object(h.jsxs)(Nt,{children:[Object(h.jsxs)(p.z,{justifyContent:"space-between",mb:"16px",children:[Object(h.jsxs)(p.Y,{color:"textSubtle",children:[u("Total cost"),":"]}),Object(h.jsxs)(p.Y,{children:["~",t," CAKE"]})]}),Object(h.jsx)(p.Y,{fontSize:"12px",color:"textSubtle",mb:"16px",children:u("Numbers are randomized, with no duplicates among your tickets. Tap a number to edit it. Available digits: 0-9")}),Object(h.jsx)(p.i,{disabled:o,mb:"16px",variant:"secondary",width:"100%",height:"32px",onClick:r,children:u("Randomize")}),i.map((function(e){return Object(h.jsx)(Lt,{ticket:e,duplicateWith:e.duplicateWith,updateTicket:n,disabled:o},e.id)}))]}),Object(h.jsxs)(p.z,{flexDirection:"column",justifyContent:"center",m:"24px",children:[Object(h.jsx)(p.i,{id:"lotteryBuyEdited",disabled:!c||o,endIcon:o?Object(h.jsx)(p.e,{spin:!0,color:"currentColor"}):void 0,onClick:function(){a()},children:u(o?"Confirming":"Confirm and buy")}),Object(h.jsxs)(p.i,{mt:"8px",variant:o?"secondary":"text",disabled:o,onClick:s,children:[Object(h.jsx)(p.b,{color:o?"disabled":"primary",height:"24px",width:"24px"})," ",u("Go back")]})]})]})},Vt=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1999999,i=(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return parseInt(null===e||void 0===e?void 0:e.number)})):[],c=Object(ee.a)(i),a=0;a<e;a++){for(var o=Object(ne.random)(n,r);c.includes(o);)o=Object(ne.random)(n,r);c.push(o)}var s=(null===t||void 0===t?void 0:t.length)>0?c.filter((function(e){return!i.includes(e)})):c;return s},Ut=function(e){var t=e.amount,n=e.userCurrentTickets,r=Vt(t,n).map((function(e){return Se(e.toString()).split("")}));return{tickets:Array.from({length:t},(function(e,t){return t+1})).map((function(e){return{id:e,numbers:r[e-1],duplicateWith:[],isComplete:!0}})),allComplete:!0}},_t=function(e,t){switch(t.type){case"updateTicket":var n=Object(ee.a)(e.tickets),r=t.payload,i=r.ticketId,c=r.newNumbers,a=e.tickets.filter((function(e){return e.id!==i&&e.isComplete&&e.numbers.join("")===c.join("")}));n[i-1].duplicateWith.forEach((function(e){if(!a.map((function(e){return e.id})).includes(e)){var t=Object(ee.a)(n[e-1].duplicateWith),r=t.findIndex((function(e){return e===i}));t.splice(r,1),n[e-1]=Object(f.a)(Object(f.a)({},n[e-1]),{},{duplicateWith:t})}})),0!==a.length&&a.forEach((function(e){n[e.id-1]=Object(f.a)(Object(f.a)({},e),{},{duplicateWith:[].concat(Object(ee.a)(e.duplicateWith),[i])})}));var o={id:i,numbers:c,duplicateWith:a.map((function(e){return e.id})),isComplete:6===c.join("").length};n[i-1]=o;var s=n.every((function(e){return e.isComplete}));return{tickets:n,allComplete:s};case"reset":return Ut({amount:t.payload.amount,userCurrentTickets:t.payload.userCurrentTickets});default:throw new Error}},Gt=Object(j.e)(p.L)(wt||(wt=Object(d.a)(["\n  min-width: 280px;\n  max-width: 320px;\n"]))),Zt=Object(j.e)(p.z)(Ct||(Ct=Object(d.a)(["\n  justify-content: space-between;\n  margin-top: 8px;\n  margin-bottom: 24px;\n  display: ",";\n"])),(function(e){return e.isVisible?"flex":"none"}));!function(e){e.BUY="Buy",e.EDIT="Edit"}(Tt||(Tt={}));var qt,Qt,Ht,Kt,Xt,$t,Jt,en,tn,nn,rn,cn,an,on,sn,ln,un,dn,bn,jn,pn,fn,mn,xn,hn,On,gn,vn,yn,kn,wn,Cn,Tn,Sn,In,Rn,Bn,zn,An,Fn=function(e){var t=e.onDismiss,n=Object(M.c)().account,r=Object(F.b)().t,i=Object(D.a)().theme,c=Z(),a=c.maxNumberTicketsPerBuyOrClaim,o=c.currentLotteryId,s=c.currentRound,l=s.priceTicketInCake,d=s.discountDivisor,j=s.userTickets.tickets,f=re().callWithGasPrice,m=Object(b.useState)(""),x=Object(u.a)(m,2),O=x[0],g=x[1],v=Object(b.useState)(""),y=Object(u.a)(v,2),k=y[0],w=y[1],C=Object(b.useState)(""),T=Object(u.a)(C,2),S=T[0],I=T[1],R=Object(b.useState)(""),B=Object(u.a)(R,2),z=B[0],A=B[1],P=Object(b.useState)(Tt.BUY),L=Object(u.a)(P,2),N=L[0],V=L[1],U=Object(b.useState)(ue.c),_=Object(u.a)(U,2),G=_[0],q=_[1],Q=Object(b.useState)(!1),H=Object(u.a)(Q,2),$=H[0],J=H[1],te=Object(b.useState)(!1),ne=Object(u.a)(te,2),ie=ne[0],ce=ne[1],ae=Object(de.g)(),oe=Object(de.c)(),se=Object(nt.a)().toastSuccess,pe=Object(pt.b)(jt.a.cake.address),fe=pe.balance,me=pe.fetchStatus,xe=fe.toJSON(),he=Object(b.useMemo)((function(){return new E.a(xe)}),[xe]),Oe=Object(be.b)(),ge=Object(W.b)(),ve=me===pt.a.SUCCESS,ye=Object(je.e)(fe,18,3),ke=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.Y,{mb:"16px",children:r("Buying multiple tickets in a single transaction gives a discount. The discount increases in a linear way, up to the maximum of 100 tickets:")}),Object(h.jsx)(p.Y,{children:r("2 tickets: 0.05%")}),Object(h.jsx)(p.Y,{children:r("50 tickets: 2.45%")}),Object(h.jsx)(p.Y,{children:r("100 tickets: 4.95%")})]})},we=Object(p.nb)(Object(h.jsx)(ke,{}),{placement:"bottom-end",tooltipOffset:[20,10]}),Ce=we.targetRef,Te=we.tooltip,Se=we.tooltipVisible,Ie=Object(b.useCallback)((function(e){return e.gt(a)?a:e}),[a]),Re=Object(b.useCallback)((function(e){return l.times(e).times(d.plus(1).minus(e)).div(d)}),[d,l]),Be=Object(b.useCallback)((function(e){var t=Re(e),n=l.times(e).minus(t).div(l);return{overallTicketBuy:e.plus(n),ticketsBoughtWithDiscount:n}}),[Re,l]),ze=Object(b.useCallback)((function(e){var t=Ie(e);Re(t).gt(fe)?ce(!0):t.eq(a)?J(!0):(ce(!1),J(!1))}),[Ie,Re,a,fe]);Object(b.useEffect)((function(){!function(){var e,t=he.div(l),n=Ie(t);if(n.lt(a)){var r=Be(n).overallTicketBuy,i=Be(r).ticketsBoughtWithDiscount;e=n.plus(i)}else e=n;ve&&e.lt(1)?ce(!0):ce(!1),q(e)}()}),[a,l,he,Ie,Re,Be,ve]),Object(b.useEffect)((function(){var e=new E.a(O),t=Re(e),n=l.times(e),r=n.minus(t);A(n.gt(0)?Object(je.e)(n):"0"),I(t.gt(0)?Object(je.e)(t):"0"),w(r.gt(0)?Object(je.e)(r,18,5):"0")}),[O,l,d,Re]);var Ae=function(e){var t=G.gt(0)?G.div(new E.a(100)).times(new E.a(e)):ue.c;return Math.floor(t.toNumber())},Fe=Ae(10),De=Ae(25),Pe=Ae(50),Ee=Ae(100),Me=function(e){g(e.toFixed()),ce(!1),J(!1)},Le=function(e,t){var n=Object(b.useReducer)(_t,{amount:e,userCurrentTickets:t},Ut),r=Object(u.a)(n,2),i=r[0],c=r[1];return Object(b.useEffect)((function(){c({type:"reset",payload:{amount:e,userCurrentTickets:t}})}),[e,t]),[function(e,t){c({type:"updateTicket",payload:{ticketId:e,newNumbers:t}})},function(){c({type:"reset",payload:{amount:e,userCurrentTickets:t}})},i.tickets,i.allComplete,function(){return i.tickets.map((function(e){var t=Object(ee.a)(e.numbers).map((function(e){return parseInt(e,10)})).reverse();return t.unshift(1),parseInt(t.join(""),10)}))}]}(parseInt(O,10),j),We=Object(u.a)(Le,5),Ne=We[0],Ye=We[1],Ve=We[2],Ue=We[3],_e=We[4],Ge=xt({onRequiresApproval:function(){var e=Object(X.a)(K.a.mark((function e(){var t,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.allowance(n,ae.address);case 3:return t=e.sent,r=Object(ue.d)(t),e.abrupt("return",r.gt(0));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),onApprove:function(){return f(oe,"approve",[ae.address,le.a.constants.MaxUint256])},onApproveSuccess:function(){var e=Object(X.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.receipt,se(r("Contract enabled - you can now purchase tickets"),Object(h.jsx)(tt.b,{txHash:n.transactionHash}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onConfirm:function(){var e=_e();return f(ae,"buyTickets",[o,e])},onSuccess:function(){var e=Object(X.a)(K.a.mark((function e(i){var c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=i.receipt,t(),ge(Object(Y.g)({account:n,currentLotteryId:o})),se(r("Lottery tickets purchased!"),Object(h.jsx)(tt.b,{txHash:c.transactionHash}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Ze=Ge.isApproving,qe=Ge.isApproved,Qe=Ge.isConfirmed,He=Ge.isConfirming,Ke=Ge.handleApprove,$e=Ge.handleConfirm,Je=!qe||Qe||ie||!O||new E.a(O).lte(0)||_e().length!==parseInt(O,10);return N===Tt.EDIT?Object(h.jsx)(Yt,{totalCost:S,updateTicket:Ne,randomize:Ye,tickets:Ve,allComplete:Ue,onConfirm:$e,isConfirming:He,onDismiss:function(){return V(Tt.BUY)}}):Object(h.jsxs)(Gt,{title:r("Buy Tickets"),onDismiss:t,headerBackground:i.colors.gradients.cardHeader,children:[Se&&Te,Object(h.jsxs)(p.z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(h.jsxs)(p.Y,{color:"textSubtle",children:[r("Buy"),":"]}),Object(h.jsxs)(p.z,{alignItems:"center",minWidth:"70px",children:[Object(h.jsx)(p.Y,{mr:"4px",bold:!0,children:r("Tickets")}),Object(h.jsx)(p.ab,{})]})]}),Object(h.jsx)(p.f,{isWarning:n&&(ie||$),placeholder:"0",value:O,onUserInput:function(e){var t=parseInt(e,10),n=new E.a(t),r=Ie(n);ze(n),g(t?r.toString():"")},currencyValue:Oe.gt(0)&&"~".concat(O?Object(je.e)(l.times(new E.a(O))):"0.00"," IBG")}),Object(h.jsx)(p.z,{alignItems:"center",justifyContent:"flex-end",mt:"4px",mb:"12px",children:Object(h.jsxs)(p.z,{justifyContent:"flex-end",flexDirection:"column",children:[n&&(ie||$)&&Object(h.jsx)(p.Y,{fontSize:"12px",color:"failure",children:ie?r("Insufficient IBG balance"):r("The maximum number of tickets you can buy in one transaction is %maxTickets%",{maxTickets:a.toString()})}),n&&Object(h.jsxs)(p.z,{justifyContent:"flex-end",children:[Object(h.jsxs)(p.Y,{fontSize:"12px",color:"textSubtle",mr:"4px",children:["IBG ",r("Balance"),":"]}),ve?Object(h.jsx)(p.Y,{fontSize:"12px",color:"textSubtle",children:ye}):Object(h.jsx)(p.W,{width:50,height:12})]})]})}),n&&!ve?Object(h.jsx)(p.W,{width:"100%",height:20,mt:"8px",mb:"24px"}):Object(h.jsxs)(Zt,{isVisible:n&&ve&&Ee>=1,children:[Fe>=1&&Object(h.jsx)(Pt,{onClick:function(){return Me(Fe)},children:ve?Fe:""}),De>=1&&Object(h.jsx)(Pt,{onClick:function(){return Me(De)},children:ve?De:""}),Pe>=1&&Object(h.jsx)(Pt,{onClick:function(){return Me(Pe)},children:ve?Pe:""}),Ee>=1&&Object(h.jsx)(Pt,{onClick:function(){return Me(Ee)},children:"MAX"})]}),Object(h.jsxs)(p.z,{flexDirection:"column",children:[Object(h.jsxs)(p.z,{mb:"8px",justifyContent:"space-between",children:[Object(h.jsxs)(p.Y,{color:"textSubtle",fontSize:"14px",children:[r("Cost")," (IBG)"]}),Object(h.jsxs)(p.Y,{color:"textSubtle",fontSize:"14px",children:[l&&Object(je.e)(l.times(O||0))," IBG"]})]}),Object(h.jsxs)(p.z,{mb:"8px",justifyContent:"space-between",children:[Object(h.jsxs)(p.z,{children:[Object(h.jsxs)(p.Y,{display:"inline",bold:!0,fontSize:"14px",mr:"4px",children:[k&&S?function(){var e=new E.a(k).div(new E.a(z)).times(100);return e.isNaN()||e.eq(0)?0:e.toNumber().toFixed(2)}():0,"%"]}),Object(h.jsx)(p.Y,{display:"inline",color:"textSubtle",fontSize:"14px",children:r("Bulk discount")}),Object(h.jsx)(p.z,{alignItems:"center",justifyContent:"center",ref:Ce,children:Object(h.jsx)(p.B,{ml:"4px",width:"14px",height:"14px",color:"textSubtle"})})]}),Object(h.jsxs)(p.Y,{fontSize:"14px",color:"textSubtle",children:["~",k," IBG"]})]}),Object(h.jsxs)(p.z,{borderTop:"1px solid ".concat(i.colors.cardBorder),pt:"8px",mb:"24px",justifyContent:"space-between",children:[Object(h.jsx)(p.Y,{color:"textSubtle",fontSize:"16px",children:r("You pay")}),Object(h.jsxs)(p.Y,{fontSize:"16px",bold:!0,children:["~",S," IBG"]})]}),n?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Ft,{isApproveDisabled:qe,isApproving:Ze,isConfirmDisabled:Je,isConfirming:He,onApprove:Ke,onConfirm:$e,buttonArrangement:Xe.SEQUENTIAL,confirmLabel:r("Buy Instantly"),confirmId:"lotteryBuyInstant"}),qe&&Object(h.jsx)(p.i,{variant:"secondary",mt:"8px",endIcon:Object(h.jsx)(p.c,{ml:"2px",color:Je||He?"disabled":"primary",height:"24px",width:"24px"}),disabled:Je||He,onClick:function(){V(Tt.EDIT)},children:r("View/Edit Numbers")})]}):Object(h.jsx)(ht.a,{}),Object(h.jsx)(p.Y,{mt:"24px",fontSize:"12px",color:"textSubtle",children:r('"Buy Instantly" chooses random numbers, with no duplicates among your tickets. Prices are set before each round starts, equal to $5 at that time. Purchases are final.')})]})]})},Dn=["disabled"],Pn=function(e){var t=e.disabled,n=Object(m.a)(e,Dn),r=Object(F.b)().t,i=Object(p.mb)(Object(h.jsx)(Fn,{})),c=Object(u.a)(i,1)[0],a=Z().currentRound.status;return Object(h.jsx)(p.i,Object(f.a)(Object(f.a)({},n),{},{disabled:t,onClick:c,style:{background:"red",marginTop:"0.5rem"},children:(console.log("dsdsdsds",a),r("Buy"))}))},En=Object(j.e)(p.h)(qt||(qt=Object(d.a)(["\n  max-height: 300px;\n  overflow-y: scroll;\n  margin-left: -24px;\n  margin-right: -24px;\n  padding-left: 24px;\n  padding-right: 20px;\n"]))),Mn=function(){var e=Object(F.b)().t,t=Object(D.a)().theme,n=Z(),r=n.isTransitioning,i=n.currentRound,c=i.status,a=i.userTickets,o=c!==q.a.OPEN||r;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(p.z,{flexDirection:"column",children:[Object(h.jsx)(p.Y,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",mb:"16px",children:e("Your tickets")}),Object(h.jsx)(En,{children:a.tickets.map((function(e,t){return Object(h.jsx)(Le,{localId:t+1,id:e.id,number:e.number,status:e.status},e.id)}))})]}),Object(h.jsx)(p.z,{borderTop:"1px solid ".concat(t.colors.cardBorder),alignItems:"center",justifyContent:"center",children:Object(h.jsx)(Pn,{disabled:o,mt:"24px",width:"100%"})})]})},Ln=Object(j.e)(p.L)(Qt||(Qt=Object(d.a)(["\n  min-width: 280px;\n  max-width: 320px;\n"]))),Wn=function(e){var t=e.onDismiss,n=e.roundId,r=e.roundStatus,i=Object(F.b)().t,c=Object(D.a)().theme,a=Z().currentLotteryId,o=(null===r||void 0===r?void 0:r.toLowerCase())===q.a.CLAIMABLE||n!==a;return Object(h.jsx)(Ln,{title:"".concat(i("Round")," ").concat(n),onDismiss:t,headerBackground:c.colors.gradients.cardHeader,children:o?Object(h.jsx)(bt,{roundId:n}):Object(h.jsx)(Mn,{})})},Nn=(j.e.div(Ht||(Ht=Object(d.a)(["\n  display: grid;\n  grid-template-columns: auto;\n\n  "," {\n    grid-column-gap: 32px;\n    grid-template-columns: auto 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Object(j.e)(p.z)(Kt||(Kt=Object(d.a)(["\n  gap: 24px;\n  margin-top: 24px;\n  width: 100%;\n  justify-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  // background-color: #fef0ff;\n  // padding: 1rem;\n  "," {\n    flex-direction: row;\n  }\n"])),(function(e){return e.theme.mediaQueries.md}))),Yn=(Object(j.e)(p.h)(Xt||(Xt=Object(d.a)(["\n  display: flex;\n  align-self: baseline;\n  position: relative;\n  background: ",";\n  padding: 1px 1px 3px 1px;\n  border-radius: ",";\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.radii.card})),Object(j.e)(p.h)($t||($t=Object(d.a)(["\n  width: 100%;\n  padding: 24px;\n  background: ",";\n  border-radius: ",";\n"])),(function(e){return e.theme.card.background}),(function(e){return e.theme.radii.card})),Object(j.e)(p.l)(Jt||(Jt=Object(d.a)(["\n  width: 100%;\n\n  "," {\n    width: 520px;\n  }\n\n  "," {\n    width: 1200px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.md}))),Vn=(j.e.div(en||(en=Object(d.a)(["\n  background: ",";\n  padding: 24px;\n"])),(function(e){return e.theme.colors.background})),j.e.h2(tn||(tn=Object(d.a)(["\n  color: #000080;\n  font-weight: 550;\n  font-size: 1.4rem;\n  margin-bottom: 1rem;\n  @media only screen and (max-width: 600px) {\n    font-weight: bold;\n    font-size: 1.2rem;\n    text-align: center;\n  }\n"])))),Un=j.e.p(nn||(nn=Object(d.a)(["\n  color: #000080;\n  font-weight: regular;\n  font-size: 1rem;\n  margin-bottom: 0.8rem;\n  @media only screen and (max-width: 600px) {\n    font-weight: regular;\n    font-size: 1rem;\n  }\n"]))),_n=j.e.div(rn||(rn=Object(d.a)(["\n  display: grid;\n  place-items: center;\n  @media only screen and (max-width: 600px) {\n  }\n"]))),Gn=j.e.div(cn||(cn=Object(d.a)(["\n  display: grid;\n  place-items: center;\n  @media only screen and (max-width: 600px) {\n    margin-top: 1.5rem;\n  }\n"]))),Zn=Object(j.e)(p.z)(an||(an=Object(d.a)(["\n  width: 100%;\n  align-items: center;\n  justify-content: space-around;\n  background-color: rgb(248, 239, 242);\n  border-radius: 0.5rem;\n  padding: 1rem;\n  flex-direction: column;\n  "," {\n    flex-direction: row;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),qn=Object(j.e)(p.n)(on||(on=Object(d.a)(["\n  display: grid;\n  place-items: center;\n  padding: 1rem;\n"]))),Qn=function(e){var t,n=Object(F.b)().t,r=Object(M.c)().account,i=Z(),c=i.currentLotteryId,a=i.isTransitioning,o=i.currentRound,s=Object(de.g)(),l=o.endTime,d=o.amountCollectedInCake,j=o.userTickets,f=o.status,m=Object(p.mb)(Object(h.jsx)(Wn,{roundId:c,roundStatus:f})),x=(Object(u.a)(m,1)[0],Object(b.useState)(!1)),O=Object(u.a)(x,2),g=(O[0],O[1],q.a.OPEN,Object(be.b)()),v=(d.times(g),1e3*parseInt(l,10)),y=new Date(v),k=(q.a.OPEN,(null===j||void 0===j||null===(t=j.tickets)||void 0===t?void 0:t.length)||0),w=Object(b.useState)(0),C=Object(u.a)(w,2),T=C[0],S=C[1],I=Object(b.useState)(0),R=Object(u.a)(I,2),B=R[0],z=R[1],A=Object(b.useState)(0),D=Object(u.a)(A,2),P=D[0],L=D[1],W=Object(b.useState)(!1),N=Object(u.a)(W,2),Y=N[0],V=N[1],U=re().callWithGasPrice,_=Object(b.useState)(!0),G=Object(u.a)(_,2),Q=G[0],H=G[1],$=Object(de.f)("0x73B61707573e4D14e94622A59cD9981571Eef2c1"),J=function(){var e=Object(X.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(s,"claimTicket",[]));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(X.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(s,"purchaseTicket",[t]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(X.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U($,"approve",[Object(se.m)(),le.a.constants.MaxUint256]));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e){return Q?Object(h.jsx)(p.i,{maxWidth:"280px",onClick:function(){te()},style:{background:"red",marginTop:"0.5rem"},children:"Approve Contract"}):Object(h.jsx)(p.i,{maxWidth:"280px",onClick:function(){console.log("hi"),ee(e)},style:{background:"red",marginTop:"0.5rem"},children:"Buy"})},ie=n(k>1?"You have %amount% tickets this round":"You have %amount% ticket this round",{amount:k}).split(k.toString()),ce=Object(u.a)(ie,2),ae=(ce[0],ce[1],Object(b.useCallback)(Object(X.a)(K.a.mark((function t(){var n,i,c,a,o,l,u,d,b,j,p,f,m;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s&&$){t.next=2;break}return t.abrupt("return");case 2:return console.log("approvallll123444",s),t.next=5,s.getCurrentRound();case 5:return n=(n=t.sent).toNumber(),t.next=9,s.getStats(n);case 9:if(i=t.sent,z(i._numTotalTickets.toNumber()),S(i._numParticipants.toNumber()),console.log("currentStats",i),L(Object(je.c)(new E.a(i._sales._hex))),!r){t.next=25;break}return t.next=17,s.isEligibleForFeeTickets(r);case 17:return c=t.sent,V(c),t.next=21,$.allowance(r,Object(se.m)());case 21:a=t.sent,o=Object(ue.d)(a),H(!o.gt(0)),console.log("approvallll",o.gt(0));case 25:if(!(n-1>0)){t.next=42;break}l=[],u=n-1;case 28:if(!(u>=n-3)){t.next=41;break}return t.next=31,s.getStats(u);case 31:d=t.sent,b=d._numTotalTickets.toNumber(),j=Object(je.c)(new E.a(d._sales._hex)),p=d._numParticipants.toNumber(),f=d._firstWinner,m=d._secondWinner,l.push({roundNumber:u,totalTickets:b,sales:j,numOfParticipants:p,firstWinner:f,secondWinner:m});case 38:u--,t.next=28;break;case 41:e.onPreviousRounds(l);case 42:case"end":return t.stop()}}),t)}))),[s,r,$,e]));return Object(b.useEffect)((function(){s&&ae()}),[s,ae]),Object(h.jsxs)(Yn,{children:[Object(h.jsx)(p.o,{p:"16px 24px",style:{background:"#f8eff2"},children:Object(h.jsxs)(p.z,{justifyContent:"space-between",children:[Object(h.jsx)(p.A,{mr:"12px",children:n("Next Draw")}),Object(h.jsxs)(p.Y,{children:[c&&"#".concat(f===q.a.OPEN?"".concat(c," |"):f===q.a.PENDING?"":parseInt(c,10)+1)," ",Boolean(l)&&(f===q.a.OPEN?"".concat(n("Draw"),": ").concat(y.toLocaleString(void 0,Ie)):"")]})]})}),Object(h.jsxs)(p.m,{children:[Object(h.jsxs)(Zn,{children:[Object(h.jsxs)(_n,{children:[Object(h.jsx)(Vn,{children:"Prizes"}),Object(h.jsxs)(p.z,{children:[Object(h.jsx)(Un,{children:"Winner 1:"}),Object(h.jsx)(Un,{style:{marginLeft:"1rem"},children:"5000 iBG"})]}),Object(h.jsxs)(p.z,{children:[Object(h.jsx)(Un,{children:"Winner 2:"}),Object(h.jsx)(Un,{style:{marginLeft:"0.8rem"},children:"5000 iBG"})]})]}),Object(h.jsxs)(Gn,{children:[Object(h.jsx)(Vn,{children:"Current Lottery Information"}),Object(h.jsxs)(p.z,{children:[Object(h.jsx)(Un,{children:"Ticket Solds:"}),Object(h.jsxs)(Un,{style:{marginLeft:2},children:[B," Tickets"]})]}),Object(h.jsxs)(p.z,{children:[Object(h.jsx)(Un,{children:"Sales proceeds: "}),Object(h.jsxs)(Un,{style:{marginLeft:2},children:[P," IBG"]})]}),Object(h.jsx)(p.z,{children:Object(h.jsxs)(Un,{style:{textAlign:"center"},children:["Number of Participants: ",T," Participants"]})})]})]}),Object(h.jsxs)(Nn,{children:[Object(h.jsxs)(p.l,{style:{minWidth:"250px"},children:[Object(h.jsx)(p.o,{style:{background:"red",color:"white",textAlign:"center",fontWeight:"bold"},children:"Buy 1 Ticket"}),Object(h.jsxs)(p.m,{style:{textAlign:"center",background:"rgb(248, 239, 242)"},children:[Object(h.jsx)(p.Y,{children:"5 IBG"}),ne(1)]})]}),Object(h.jsxs)(p.l,{style:{minWidth:"250px"},children:[Object(h.jsx)(p.o,{style:{background:"red",color:"white",textAlign:"center",fontWeight:"bold"},children:"Buy 10 Tickets"}),Object(h.jsxs)(p.m,{style:{textAlign:"center",background:"rgb(248, 239, 242)"},children:[Object(h.jsx)(p.Y,{children:"47.5 IBG"}),ne(10)]})]}),Object(h.jsxs)(p.l,{style:{minWidth:"250px"},children:[Object(h.jsx)(p.o,{style:{background:"red",color:"white",textAlign:"center",fontWeight:"bold"},children:"Buy 100 Tickets"}),Object(h.jsxs)(p.m,{style:{textAlign:"center",background:"rgb(248, 239, 242)"},children:[Object(h.jsx)(p.Y,{children:"450 IBG"}),ne(100)]})]}),Object(h.jsxs)(p.l,{style:{minWidth:"250px"},children:[Object(h.jsx)(p.o,{style:{background:"red",color:"white",textAlign:"center",fontWeight:"bold"},children:"Buy 1000 Tickets"}),Object(h.jsxs)(p.m,{style:{textAlign:"center",background:"rgb(248, 239, 242)"},children:[Object(h.jsx)(p.Y,{children:"4000 IBG"}),ne(1e3)]})]})]})]}),Object(h.jsxs)(qn,{p:"0",children:[Object(h.jsx)(p.Y,{children:"Claim free ticket only for SuperStakers, 1 ticket per 1,000 iBG staked in the SuperStaking pools"}),Object(h.jsx)(p.i,{style:{marginTop:"0.5rem"},disabled:!Y,onClick:function(){J()},children:Y?"Claim":"No Free Tickets Available"})]})]})},Hn=Object(j.e)(p.E)(sn||(sn=Object(d.a)(["\n  width: 60px;\n  height: 100%;\n  padding: 4px 16px;\n"]))),Kn=Object(j.e)(p.C)(ln||(ln=Object(d.a)(["\n  width: 32px;\n\n  :disabled {\n    background: none;\n\n    svg {\n      fill: ",";\n\n      path {\n        fill: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.textDisabled}),(function(e){return e.theme.colors.textDisabled})),Xn=function(e){var t=e.isLoading,n=e.selectedRoundId,r=e.mostRecentRound,i=e.handleInputChange,c=e.handleArrowButtonPress,a=Object(F.b)().t,o=parseInt(n,10);return Object(h.jsxs)(p.z,{alignItems:"center",justifyContent:"space-between",children:[Object(h.jsxs)(p.z,{alignItems:"center",children:[Object(h.jsx)(p.A,{mr:"8px",children:a("Round")}),Object(h.jsx)(Hn,{pattern:"^[0-9]+$",inputMode:"numeric",disabled:t,id:"round-id",name:"round-id",value:n,scale:"lg",onChange:function(e){e.currentTarget.validity.valid&&i(e)}})]}),Object(h.jsxs)(p.z,{alignItems:"center",children:[Object(h.jsx)(Kn,{disabled:!o||o<=1,onClick:function(){return c(o-1)},variant:"text",scale:"sm",mr:"4px",children:Object(h.jsx)(p.b,{})}),Object(h.jsx)(Kn,{disabled:o>=r,onClick:function(){return c(o+1)},variant:"text",scale:"sm",mr:"4px",children:Object(h.jsx)(p.c,{})}),Object(h.jsx)(Kn,{disabled:o>=r,onClick:function(){return c(r)},variant:"text",scale:"sm",children:Object(h.jsx)(p.d,{})})]})]})},$n=Object(j.e)(p.m)(un||(un=Object(d.a)(["\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Jn=j.e.div(dn||(dn=Object(d.a)(["\n  display: grid;\n  grid-template-columns: auto;\n\n  "," {\n    grid-column-gap: 72px;\n    grid-row-gap: 36px;\n    grid-template-columns: auto 1fr;\n    margin-left: 1rem;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),er=Object(j.e)(p.p)(bn||(bn=Object(d.a)(["\n  right: -20px;\n  top: -20px;\n\n  "," {\n    right: -10px;\n    top: -10px;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs})),tr=Object(j.e)(p.A)(jn||(jn=Object(d.a)(["\n  "," {\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),nr=Object(j.e)(p.A)(pn||(pn=Object(d.a)(["\n  margin: 0rem;\n  "," {\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),rr=j.e.div(fn||(fn=Object(d.a)(["\n  display: block;\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ir=j.e.div(mn||(mn=Object(d.a)(["\n  display: none;\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),cr=Object(j.e)(p.z)(xn||(xn=Object(d.a)(["\n  flex-direction: column;\n  height: auto;\n  margin-top: 4rem;\n  align-items: center;\n  justify-content: space-evenly;\n  "," {\n    justify-content: space-around;\n    height: 10rem;\n    margin-top: 3rem;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ar=function(e){var t=e.lotteryNodeData,n=e.lotteryId,r=Object(F.b)().t,i=Z(),c=i.currentLotteryId,a=i.currentRound.status,o=_().rounds.find((function(e){return e.lotteryId===n})),s=Object(p.lb)(),l=(s.isLg,s.isXl,s.isXxl,parseInt(c)),d=(a===q.a.CLAIMABLE?l:l-1).toString()===n,b=Object(p.mb)(Object(h.jsx)(Wn,{roundId:n,roundStatus:null===t||void 0===t?void 0:t.status})),j=(Object(u.a)(b,1)[0],o?o.totalTickets:0),f=r(j>1?"You had %amount% tickets this round":"You had %amount% ticket this round",{amount:j}).split(j.toString()),m=Object(u.a)(f,2);m[0],m[1];return Object(h.jsxs)($n,{children:[d&&Object(h.jsx)(er,{text:r("Latest")}),Object(h.jsxs)(cr,{flexDirection:"column",children:[Object(h.jsx)(ir,{children:Object(h.jsxs)(tr,{mb:"10px",children:[r("Winner_#1")," ",null===t||void 0===t?void 0:t.firstWinner]})}),Object(h.jsx)(rr,{children:Object(h.jsxs)(tr,{mb:"10px",children:[r("#1")," ",null===t||void 0===t?void 0:t.firstWinner]})}),Object(h.jsx)(ir,{children:Object(h.jsxs)(nr,{mb:"10px",children:[r("Winner_#2")," ",null===t||void 0===t?void 0:t.secondWinner]})}),Object(h.jsx)(rr,{children:Object(h.jsxs)(tr,{mb:"10px",children:[r("#2"),null===t||void 0===t?void 0:t.secondWinner," "]})}),Object(h.jsx)(ir,{children:Object(h.jsxs)(nr,{mb:"10px",color:"red",children:["Total Participants ",null===t||void 0===t?void 0:t.numOfParticipants]})}),Object(h.jsx)(rr,{children:Object(h.jsxs)(tr,{mb:"10px",children:["Total Participants ",null===t||void 0===t?void 0:t.numOfParticipants]})}),Object(h.jsx)(ir,{children:Object(h.jsxs)(nr,{mb:"10px",color:"red",children:["Total Sales ",null===t||void 0===t?void 0:t.sales]})}),Object(h.jsx)(rr,{children:Object(h.jsxs)(tr,{mb:"10px",children:["Total Sales ",null===t||void 0===t?void 0:t.sales]})}),Object(h.jsx)(ir,{children:Object(h.jsxs)(nr,{mb:"10px",color:"red",children:["Total Tickets ",null===t||void 0===t?void 0:t.totalTickets]})}),Object(h.jsx)(rr,{children:Object(h.jsxs)(tr,{mb:"10px",children:["Total Tickets ",null===t||void 0===t?void 0:t.totalTickets]})})]}),Object(h.jsx)(Jn,{children:Object(h.jsx)(p.z,{maxWidth:["240px",null,null,"100%"]})})]})},or=Object(j.e)(p.l)(hn||(hn=Object(d.a)(["\n  width: 100%;\n\n  "," {\n    width: 756px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),sr=Object(j.e)(p.o)(On||(On=Object(d.a)(["\n  z-index: 2;\n  background: none;\n  border-bottom: 1px "," solid;\n"])),(function(e){return e.theme.colors.cardBorder})),lr=function(e){var t=e.rounds,n=(Object(F.b)().t,Object(W.b)(),Z()),r=(n.currentLotteryId,n.lotteriesData),i=n.currentRound,c=(i.status,i.isLoading,Object(b.useState)(null)),a=Object(u.a)(c,2),o=a[0],s=a[1],l=Object(b.useState)(""),d=Object(u.a)(l,2),j=d[0],p=d[1],f=Object(b.useState)(null),m=Object(u.a)(f,2),x=m[0],O=m[1];Object(b.useRef)(null),null===r||void 0===r||r.length;Object(b.useEffect)((function(){t.length>0&&!j&&(console.log("qwegavfd"),s(t[0].roundNumber),p(t[0].roundNumber),O(t[0]))}),[t,j]);return Object(h.jsxs)(or,{children:[Object(h.jsx)(sr,{children:Object(h.jsx)(Xn,{isLoading:!1,selectedRoundId:j,mostRecentRound:o,handleInputChange:function(e){var t=e.target.value;t?(p(t),parseInt(t,10)<=0&&p(""),parseInt(t,10)>=o&&p(o.toString())):p("")},handleArrowButtonPress:function(e){console.log("targetRound",e);var n=j;if(e){var r=!1;t.map((function(t){return t.roundNumber.toString()===e.toString()&&(O(t),r=!0),null})),p(r?e.toString():n)}}})}),Object(h.jsx)(ar,{lotteryNodeData:x,lotteryId:j})]})},ur=j.e.div(gn||(gn=Object(d.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 40px 0;\n  width: 100%;\n"])),(function(e){return e.theme.colors.cardBorder})),dr=(j.e.ul(vn||(vn=Object(d.a)(["\n  list-style-type: none;\n  margin-left: 8px;\n  padding: 0;\n  li {\n    margin: 0;\n    padding: 0;\n  }\n  li::before {\n    content: '\u2022';\n    margin-right: 4px;\n    color: ",";\n  }\n  li::marker {\n    font-size: 12px;\n  }\n"])),(function(e){return e.theme.colors.textSubtle})),Object(j.e)(p.z)(yn||(yn=Object(d.a)(["\n  gap: 24px;\n  width: 100%;\n  flex-direction: column;\n  "," {\n    flex-direction: row;\n  }\n"])),(function(e){return e.theme.mediaQueries.md}))),br=Object(j.e)(p.h)(kn||(kn=Object(d.a)(["\n  display: flex;\n  min-height: 18rem;\n  align-self: baseline;\n  position: relative;\n  background: ",";\n  padding: 1px 1px 3px 1px;\n  border-radius: ",";\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.radii.card})),jr=Object(j.e)(p.h)(wn||(wn=Object(d.a)(["\n  width: 100%;\n  padding: 24px;\n  background: ",";\n  border-radius: ",";\n"])),(function(e){return e.theme.card.background}),(function(e){return e.theme.radii.card})),pr=function(e){var t=e.step;return Object(h.jsx)(br,{width:"100%",children:Object(h.jsxs)(jr,{children:[Object(h.jsx)(p.Y,{mb:"16px",fontSize:"12px",bold:!0,textAlign:"right",textTransform:"uppercase",children:t.label}),Object(h.jsx)(p.A,{mb:"16px",scale:"lg",color:"red",children:t.title}),Object(h.jsx)(p.Y,{children:t.subtitle})]})})},fr=(Object(j.e)(p.z)(Cn||(Cn=Object(d.a)(["\n  gap: 6.5px;\n  padding-left: 7px;\n  align-items: center;\n  width: 100%;\n"]))),Object(j.e)(p.F)(Tn||(Tn=Object(d.a)(["\n  display: inline;\n"]))),j.e.div(Sn||(Sn=Object(d.a)(["\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 5fr;\n  grid-template-rows: 46px 64px 64px;\n"]))),j.e.div(In||(In=Object(d.a)(["\n  display: grid;\n  grid-template-columns: 4fr 1fr;\n  grid-auto-rows: max-content;\n  row-gap: 4px;\n"]))),j.e.div(Rn||(Rn=Object(d.a)(["\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  margin-right: 8px;\n  background-color: ",";\n"])),(function(e){return e.color})),j.e.div(Bn||(Bn=Object(d.a)(["\n  margin-top: 2rem;\n  text-align: center;\n"])))),mr=Object(j.e)(p.z)(zn||(zn=Object(d.a)(["\n  gap: 24px;\n"]))),xr=function(){var e=Object(F.b)().t,t=[{label:e("Step %number%",{number:1}),title:e("Buy Tickets"),subtitle:e("Buy a standard lottery ticket for 5 iBGs. Enjoy discount with bulk purchase. (Superstakers can claim 1 free ticket for every 1000 iBG tokens superstaked) ")},{label:e("Step %number%",{number:2}),title:e("Wait for the Draw"),subtitle:e("There will be one drawndown every sunday 7pm GMT +B")},{label:e("Step %number%",{number:3}),title:e("Winner Announcement"),subtitle:e("After each drawndown, Winner will be automatically dropped prize tokens and announced in the dashboard")},{label:e("Step %number%",{number:4}),title:e("Repeat"),subtitle:e("The smart contract automatically resets and restarts next draw and repeats 1-3 without intervention")}];return Object(h.jsxs)(p.h,{width:"100%",children:[Object(h.jsx)(mr,{flexDirection:["column","column","column","row"],children:Object(h.jsxs)(p.z,{flex:"2",style:{textAlign:"center"},flexDirection:"column",justifyContent:"center",children:[Object(h.jsx)(p.A,{mb:"36px",scale:"xl",color:"red",children:e("About iBG Lottery")}),Object(h.jsx)(p.Y,{mb:"6px",children:"This is an exclusive lottery for BSC only."}),Object(h.jsx)(p.Y,{mt:"16px",children:"Lottery cycle starts every Sunday at 7pm."}),Object(h.jsxs)(p.Y,{mt:"16px",children:[Object(h.jsx)("span",{style:{color:"red"},children:"2 Winners"})," The drawndown of winners will be every Sunday 7pm GMT+8"]}),Object(h.jsxs)(p.Y,{mt:"16px",children:[Object(h.jsx)("span",{style:{color:"red"},children:"10,000 iBG Prize."})," Each winner randomly picked via smart contract logic and will win 5,000 iBG each"]}),Object(h.jsx)(p.Y,{mt:"16px",children:"The lottery is fully managed by a smart contract that allows anyone check to the address."}),Object(h.jsx)(p.Y,{mt:"16px",children:e("100% of subscription proceeds burned (no fees to the company nor the developer) ")})]})}),Object(h.jsx)(ur,{}),Object(h.jsx)(p.z,{mb:"40px",alignItems:"center",flexDirection:"column",children:Object(h.jsx)(p.A,{mb:"24px",scale:"xl",color:"red",children:e("How it works")})}),Object(h.jsx)(dr,{children:t.map((function(e){return Object(h.jsx)(pr,{step:e},e.label)}))}),Object(h.jsxs)(fr,{children:[Object(h.jsx)(p.A,{mb:"18px",style:{marginTop:"2rem"},scale:"xl",color:"red",children:"Standing together as united ecosystem"}),Object(h.jsx)(p.Y,{children:"All proceeeds are burned immediately upon purchase of tickets (No developer fees kept)"}),Object(h.jsx)(p.Y,{children:"Prize Tokens from the redistribution of a part of the non native farms yield. (This will benefits our whole ecosystem by bringing more holders and "}),Object(h.jsx)(p.Y,{children:"decrease the daily sell pressure of non native farmers"})]})]})},hr=n(216),Or=function(){var e=Object(M.c)().account,t=Object(W.b)(),n=Object(b.useState)(hr.a),r=Object(u.a)(n,2),i=r[0],c=r[1];return{numUserRoundsRequested:i,handleShowMoreUserRounds:function(){t(Object(Y.b)({account:e,skip:i})),c(i+hr.a)}}},gr=j.e.div(An||(An=Object(d.a)(["\n  min-height: calc(100vh - 64px);\n"])));t.default=function(){!function(){var e=Object(M.c)().account,t=Object(N.a)().fastRefresh,n=Object(W.b)(),r=U();Object(b.useEffect)((function(){n(Object(Y.d)())}),[n]),Object(b.useEffect)((function(){r&&(n(Object(Y.e)({currentLotteryId:r})),n(Object(Y.c)({currentLotteryId:r})))}),[n,r,t]),Object(b.useEffect)((function(){e&&r&&n(Object(Y.g)({account:e,currentLotteryId:r}))}),[n,r,e])}(),J();var e=Object(F.b)().t,t=Object(D.a)(),n=t.isDark,r=t.theme,i=Z().currentRound,c=i.status,a=i.endTime,o=Object(b.useState)(0),s=Object(u.a)(o,2),l=(s[0],s[1],parseInt(a,10)),d=Q(l,c),j=(d.nextEventTime,d.postCountdownText,d.preCountdownText,Or()),f=(j.numUserRoundsRequested,j.handleShowMoreUserRounds,Object(b.useState)([])),m=Object(u.a)(f,2),x=m[0],O=m[1];return Object(h.jsxs)(gr,{style:{background:"#fff"},children:[Object(h.jsx)(A,{containerProps:{style:{marginTop:"-30px"}},background:"linear-gradient(180deg, #7645D9 0%, #5121B1 100%)",concaveDivider:!0,clipFill:{light:"#9e10ea"},dividerPosition:"top",index:2,style:{background:"linear-gradient(to bottom, #7E41D6, #59179E)"},children:Object(h.jsxs)(p.z,{alignItems:"center",justifyContent:"center",flexDirection:"column",pt:"24px",children:[Object(h.jsx)(p.A,{scale:"xl",color:"#fff",mb:"24px",textAlign:"center",children:e("Get your tickets now!")}),Object(h.jsx)(Qn,{onPreviousRounds:function(e){console.log("rounddpre",e),O(e)}})]})}),Object(h.jsx)(A,{innerProps:{style:{margin:"0",width:"100%"}},background:n?"linear-gradient(180deg, #434575 0%, #66578D 100%)":"linear-gradient(180deg, #CBD7EF 0%, #9A9FD0 100%)",hasCurvedDivider:!1,index:2,style:{background:"linear-gradient(to bottom, #83a4d4, #b6fbff)"},children:Object(h.jsxs)(p.z,{width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[Object(h.jsx)(p.A,{color:"#03025f",mb:"24px",scale:"xl",children:e("Last 3 Finished Rounds")}),Object(h.jsx)(lr,{rounds:x})]})}),Object(h.jsx)(A,{dividerPosition:"top",dividerFill:{light:r.colors.background},clipFill:{light:"#fff",dark:"#66578D"},index:2,children:Object(h.jsx)(xr,{})})]})}},841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),i=n(0),c=n(357),a=n(842);function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=o(r),l=o(i),u=o(c),d=o(a);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?O(e):t}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,c=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);a=!0);}catch(s){o=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return c}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e,t){var n=t.decimal,r=t.decimals,i=t.duration,c=t.easingFn,a=t.end,o=t.formattingFn,s=t.prefix,l=t.separator,u=t.start,b=t.suffix,j=t.useEasing;return new d.default(e,u,a,r,i,{decimal:n,easingFn:c,formattingFn:o,separator:l,prefix:s,suffix:b,useEasing:j,useGrouping:!!l})},C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,r,i=v(c);function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(O(e=i.call.apply(i,[this].concat(n))),"checkProps",(function(t){var n=e.props,r=n.start,i=n.suffix,c=n.prefix,a=n.redraw,o=n.duration,s=n.separator,l=n.decimals,u=n.decimal,d=n.className;return o!==t.duration||r!==t.start||i!==t.suffix||c!==t.prefix||s!==t.separator||l!==t.decimals||u!==t.decimal||d!==t.className||a})),m(O(e),"createInstance",(function(){return"function"===typeof e.props.children&&u.default(e.containerRef.current&&(e.containerRef.current instanceof HTMLElement||e.containerRef.current instanceof SVGTextElement||e.containerRef.current instanceof SVGTSpanElement),'Couldn\'t find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an HTMLElement, eg. <span ref={containerRef} />.'),w(e.containerRef.current,e.props)})),m(O(e),"pauseResume",(function(){var t=O(e),n=t.reset,r=t.restart,i=t.update,c=e.props.onPauseResume;e.instance.pauseResume(),c({reset:n,start:r,update:i})})),m(O(e),"reset",(function(){var t=O(e),n=t.pauseResume,r=t.restart,i=t.update,c=e.props.onReset;e.instance.reset(),c({pauseResume:n,start:r,update:i})})),m(O(e),"restart",(function(){e.reset(),e.start()})),m(O(e),"start",(function(){var t=O(e),n=t.pauseResume,r=t.reset,i=t.restart,c=t.update,a=e.props,o=a.delay,s=a.onEnd,l=a.onStart,u=function(){return e.instance.start((function(){return s({pauseResume:n,reset:r,start:i,update:c})}))};o>0?e.timeoutId=setTimeout(u,1e3*o):u(),l({pauseResume:n,reset:r,update:c})})),m(O(e),"update",(function(t){var n=O(e),r=n.pauseResume,i=n.reset,c=n.restart,a=e.props.onUpdate;e.instance.update(t),a({pauseResume:r,reset:i,start:c})})),m(O(e),"containerRef",l.default.createRef()),e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.children,n=e.delay;this.instance=this.createInstance(),"function"===typeof t&&0!==n||this.start()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.end;return this.checkProps(e)||t!==e.end}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.end,r=t.preserveValue;this.checkProps(e)&&(this.instance.reset(),this.instance=this.createInstance(),this.start()),n!==e.end&&(r||this.instance.reset(),this.instance.update(n))}},{key:"componentWillUnmount",value:function(){this.timeoutId&&clearTimeout(this.timeoutId),this.instance.reset()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.style,i=this.containerRef,c=this.pauseResume,a=this.reset,o=this.restart,s=this.update;return"function"===typeof t?t({countUpRef:i,pauseResume:c,reset:a,start:o,update:s}):l.default.createElement("span",{className:n,ref:i,style:r})}}])&&f(t.prototype,n),r&&f(t,r),c}(i.Component);m(C,"propTypes",{decimal:s.default.string,decimals:s.default.number,delay:s.default.number,easingFn:s.default.func,end:s.default.number.isRequired,formattingFn:s.default.func,onEnd:s.default.func,onStart:s.default.func,prefix:s.default.string,redraw:s.default.bool,separator:s.default.string,start:s.default.number,startOnMount:s.default.bool,suffix:s.default.string,style:s.default.object,useEasing:s.default.bool,preserveValue:s.default.bool}),m(C,"defaultProps",{decimal:".",decimals:0,delay:null,duration:null,easingFn:null,formattingFn:null,onEnd:function(){},onPauseResume:function(){},onReset:function(){},onStart:function(){},onUpdate:function(){},prefix:"",redraw:!1,separator:"",start:0,startOnMount:!0,suffix:"",style:void 0,useEasing:!0,preserveValue:!1});var T={innerHTML:null};t.default=C,t.useCountUp=function(e){var t=j(j({},C.defaultProps),e),n=t.start,r=t.formattingFn,c=y(i.useState("function"===typeof r?r(n):n),2),a=c[0],o=c[1],s=i.useRef(null),l=i.useRef(null),u=function(){var e=s.current;if(null!==e)return e;var n=function(){var e=w(T,t),n=e.options.formattingFn;return e.options.formattingFn=function(){var e=n.apply(void 0,arguments);o(e)},e}();return s.current=n,n},d=function(){var e=t.onReset;u().reset(),e({pauseResume:p,start:b,update:f})},b=function e(){var n=t.onStart,r=t.onEnd;u().reset(),u().start((function(){r({pauseResume:p,reset:d,start:e,update:f})})),n({pauseResume:p,reset:d,update:f})},p=function(){var e=t.onPauseResume;u().pauseResume(),e({reset:d,start:b,update:f})},f=function(e){var n=t.onUpdate;u().update(e),n({pauseResume:p,reset:d,start:b})};return i.useEffect((function(){var e=t.delay,n=t.onStart,r=t.onEnd;return t.startOnMount&&(l.current=setTimeout((function(){n({pauseResume:p,reset:d,update:f}),u().start((function(){clearTimeout(l.current),r({pauseResume:p,reset:d,start:b,update:f})}))}),1e3*e)),function(){clearTimeout(l.current),d()}}),[]),{countUp:a,start:b,pauseResume:p,reset:d,update:f}}},842:function(e,t,n){var r,i;void 0===(i="function"===typeof(r=function(e,t,n){return function(e,t,n,r,i,c){function a(e){var t,n,r,i,c,a,o=e<0;if(e=Math.abs(e).toFixed(l.decimals),n=(t=(e+="").split("."))[0],r=t.length>1?l.options.decimal+t[1]:"",l.options.useGrouping){for(i="",c=0,a=n.length;c<a;++c)0!==c&&c%3===0&&(i=l.options.separator+i),i=n[a-c-1]+i;n=i}return l.options.numerals.length&&(n=n.replace(/[0-9]/g,(function(e){return l.options.numerals[+e]})),r=r.replace(/[0-9]/g,(function(e){return l.options.numerals[+e]}))),(o?"-":"")+l.options.prefix+n+r+l.options.suffix}function o(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))*1024/1023+t}function s(e){return"number"==typeof e&&!isNaN(e)}var l=this;if(l.version=function(){return"1.9.3"},l.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:o,formattingFn:a,prefix:"",suffix:"",numerals:[]},c&&"object"==typeof c)for(var u in l.options)c.hasOwnProperty(u)&&null!==c[u]&&(l.options[u]=c[u]);""===l.options.separator?l.options.useGrouping=!1:l.options.separator=""+l.options.separator;for(var d=0,b=["webkit","moz","ms","o"],j=0;j<b.length&&!window.requestAnimationFrame;++j)window.requestAnimationFrame=window[b[j]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[j]+"CancelAnimationFrame"]||window[b[j]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-d)),i=window.setTimeout((function(){e(n+r)}),r);return d=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),l.initialize=function(){return!!l.initialized||(l.error="",l.d="string"==typeof e?document.getElementById(e):e,l.d?(l.startVal=Number(t),l.endVal=Number(n),s(l.startVal)&&s(l.endVal)?(l.decimals=Math.max(0,r||0),l.dec=Math.pow(10,l.decimals),l.duration=1e3*Number(i)||2e3,l.countDown=l.startVal>l.endVal,l.frameVal=l.startVal,l.initialized=!0,!0):(l.error="[CountUp] startVal ("+t+") or endVal ("+n+") is not a number",!1)):(l.error="[CountUp] target is null or undefined",!1))},l.printValue=function(e){var t=l.options.formattingFn(e);"INPUT"===l.d.tagName?this.d.value=t:"text"===l.d.tagName||"tspan"===l.d.tagName?this.d.textContent=t:this.d.innerHTML=t},l.count=function(e){l.startTime||(l.startTime=e),l.timestamp=e;var t=e-l.startTime;l.remaining=l.duration-t,l.options.useEasing?l.countDown?l.frameVal=l.startVal-l.options.easingFn(t,0,l.startVal-l.endVal,l.duration):l.frameVal=l.options.easingFn(t,l.startVal,l.endVal-l.startVal,l.duration):l.countDown?l.frameVal=l.startVal-(l.startVal-l.endVal)*(t/l.duration):l.frameVal=l.startVal+(l.endVal-l.startVal)*(t/l.duration),l.countDown?l.frameVal=l.frameVal<l.endVal?l.endVal:l.frameVal:l.frameVal=l.frameVal>l.endVal?l.endVal:l.frameVal,l.frameVal=Math.round(l.frameVal*l.dec)/l.dec,l.printValue(l.frameVal),t<l.duration?l.rAF=requestAnimationFrame(l.count):l.callback&&l.callback()},l.start=function(e){l.initialize()&&(l.callback=e,l.rAF=requestAnimationFrame(l.count))},l.pauseResume=function(){l.paused?(l.paused=!1,delete l.startTime,l.duration=l.remaining,l.startVal=l.frameVal,requestAnimationFrame(l.count)):(l.paused=!0,cancelAnimationFrame(l.rAF))},l.reset=function(){l.paused=!1,delete l.startTime,l.initialized=!1,l.initialize()&&(cancelAnimationFrame(l.rAF),l.printValue(l.startVal))},l.update=function(e){if(l.initialize()){if(!s(e=Number(e)))return void(l.error="[CountUp] update() - new endVal is not a number: "+e);l.error="",e!==l.frameVal&&(cancelAnimationFrame(l.rAF),l.paused=!1,delete l.startTime,l.startVal=l.frameVal,l.endVal=e,l.countDown=l.startVal>l.endVal,l.rAF=requestAnimationFrame(l.count))}},l.initialize()&&l.printValue(l.startVal)}})?r.call(t,n,t,e):r)||(e.exports=i)}}]);
//# sourceMappingURL=5.79fe6505.chunk.js.map